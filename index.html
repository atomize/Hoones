<html>
	<head>
		<title>test</title>

		<style>
			body {
				background-color: #000;
			}

			li div, label {
				min-width: 150px; !important;
				font-weight: bold;
				color: #ffffff;
				display: inline-block;
				margin: 0px;
			}

			ul {
				margin: 0px;
				padding: 0px;
			}

		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script type="text/javascript" src="cpu.js"></script>
	</head>

	<canvas id="screen" width="200" height="100" style="display: block;"></canvas>

	<canvas id="nametables" width="200" height="100" style="display: block;"></canvas>
	<script type="text/javascript" src="BinFileReader.js"></script>
	
	<script type="text/javascript" src="cpu.js"></script>
	<script type="text/javascript" src="ppu.js"></script>	
	
	<script type="text/javascript">
		nes.cartridge.load("./rom/palette_ram.nes");
		nes.reset();
		
		var nametable = {
		
			canvas : null,
			
			init : function() {
				var c = document.getElementById('nametables');	
				c.width  = 511;
				c.height = 479;
				this.canvas = c.getContext('2d');					

			},
			
			draw : function(nametables) {
				for (var row=0; row<2; row++) {
					for (var collumn=0; collumn<2; collumn++) {
						var startX = row * 256;
						var startY = collumn * 240;
						var table = collumn * 2 + row
						
						//0,0 correct
						//0,1 2 + 0 correct
						//1,0 1 correct
						//1,1 2+1 3 correct
						
						var xpos = startX;
						var ypos = startY;
						
						for (var y=0; y < 241; y++) {
							for (var x = 0; x < 257; x++) {
								
								var cell = nametables[collumn * 1 + row];
								var color = "#ffffff";
								
								var tx = x % 8;
								var ty = y % 8;
								
								if (typeof(cell) == "undefined") {
									
								} else {
								
								}

								this.setPixel(xpos, ypos, color);
								xpos += 1;
							}
							xpos = startX;
							ypos += 1;
						}
					}
				}
			},
			
			setPixel(x, y, hex) {
				var color = hex;

				this.canvas.fillStyle = color;
				this.canvas.fillRect(
					x, 
					y, 
					1,
					1
				);
			}
		};
		
		//nametable.init();
		//nametable.draw([[],[],[],[]]);
	</script>
	


	</body>
</html>